
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="This is Michael Qiu's personal site." name="description"/>
<meta content="Michael Qiu" name="author"/>
<link href="https://gitmichaelqiu.github.io/curricula/generative-ai-for-beginners/15-rag-and-vector-databases/" rel="canonical"/>
<link href="../14-the-generative-ai-application-lifecycle/" rel="prev"/>
<link href="../16-open-source-models/" rel="next"/>
<link href="../../../images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.34" name="generator"/>
<title>Lesson 15 - Michael Qiu's Blog</title>
<link href="../../../assets/stylesheets/main.35f28582.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#retrieval-augmented-generation-rag-and-vector-databases">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Michael Qiu's Blog" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="Michael Qiu's Blog">
<img alt="logo" src="../../../assets/logo-MK-round-circle-auto.svg"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Michael Qiu's Blog
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Lesson 15
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.8 5.67A9.8 9.8 0 0 1 22 11h-2.06c-.2-1.43-.78-2.78-1.68-3.9zM13 2.05c1.96.19 3.81.95 5.33 2.21L16.9 5.69A8 8 0 0 0 13 4.05zm-2 .01c-1.96.2-3.81.97-5.33 2.21L7.1 5.69A8 8 0 0 1 11 4.06zM4.26 5.67l1.37 1.39v.04A8 8 0 0 0 4 11H2c.21-1.96 1-3.82 2.26-5.33M2 14v5l1.6-1.6C5.38 20.17 8.47 22 12 22c4.82 0 8.87-3.45 9.8-8h-2.05c-.89 3.45-4.03 6-7.75 6-2.95 0-5.61-1.61-7-4l2-2zm10 3 1.56-3.42L17 12l-3.44-1.56L12 7l-1.57 3.44L7 12l3.43 1.58z"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="white" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg>
</label>
<input aria-label="Switch to system preference" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="black" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to system preference">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/gitmichaelqiu/gitmichaelqiu.github.io" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    gitmichaelqiu.github.io
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../..">
          
  
  Home

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../algorithms/gcd-lcm/">
          
  
  Algorithms

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../data-structures/binary-heap/">
          
  
  Data Structures

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../oi-tips/elapsed-time/">
          
  
  OI Tips

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../academic-notes/calculus/limit/">
          
  
  Academic Notes

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../../ai-for-beginners/">
          
  
  Curricula

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../blog/">
          
  
  Blog

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Michael Qiu's Blog" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="Michael Qiu's Blog">
<img alt="logo" src="../../../assets/logo-MK-round-circle-auto.svg"/>
</a>
    Michael Qiu's Blog
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/gitmichaelqiu/gitmichaelqiu.github.io" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    gitmichaelqiu.github.io
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-ellipsis">
    Home
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            Home
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
<span class="md-ellipsis">
    About
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../my-projects/my-projects/">
<span class="md-ellipsis">
    My Projects
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../some-websites/">
<span class="md-ellipsis">
    Some Websites
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Algorithms
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Algorithms
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../algorithms/gcd-lcm/">
<span class="md-ellipsis">
    GCD &amp; LCM
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
<span class="md-ellipsis">
    Prime
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
            Prime
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../algorithms/prime/euler-sieve/">
<span class="md-ellipsis">
    Euler Sieve
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
<span class="md-ellipsis">
    Search
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
            Search
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../algorithms/search/a-star/">
<span class="md-ellipsis">
    A*
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
<span class="md-ellipsis">
    Shortest Path
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
            Shortest Path
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../algorithms/shortest-path/bellman-ford/">
<span class="md-ellipsis">
    Bellman Ford
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../algorithms/shortest-path/dijkstra/">
<span class="md-ellipsis">
    Dijkstra (prioirty_queue)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../algorithms/shortest-path/floyd/">
<span class="md-ellipsis">
    Floyd
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../algorithms/shortest-path/spfa/">
<span class="md-ellipsis">
    SPFA
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
<span class="md-ellipsis">
    Sort
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_5">
<span class="md-nav__icon md-icon"></span>
            Sort
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../algorithms/sort/sort-overview/">
<span class="md-ellipsis">
    Sort Overview
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../algorithms/quick-pow/">
<span class="md-ellipsis">
    Quick Pow
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Data Structures
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Data Structures
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../data-structures/binary-heap/">
<span class="md-ellipsis">
    Binary Heap
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../data-structures/disjoint-set-union/">
<span class="md-ellipsis">
    Disjoint Set Union
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../data-structures/segment-tree/">
<span class="md-ellipsis">
    Segment Tree
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../data-structures/sparse-table/">
<span class="md-ellipsis">
    Sparse Table
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../data-structures/stack/">
<span class="md-ellipsis">
    Stack
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
<span class="md-ellipsis">
    Tree
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_6">
<span class="md-nav__icon md-icon"></span>
            Tree
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../data-structures/tree/binary-tree-traversals/">
<span class="md-ellipsis">
    Binary Tree Traversals
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    OI Tips
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            OI Tips
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../oi-tips/elapsed-time/">
<span class="md-ellipsis">
    Elapsed Time Measurement
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../oi-tips/file-read-and-write/">
<span class="md-ellipsis">
    File Read &amp; Write
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../oi-tips/gcc-optimize/">
<span class="md-ellipsis">
    GCC Optimize
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../oi-tips/accelerate-ios/">
<span class="md-ellipsis">
    iostream Acceleration
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../oi-tips/qread-and-qwrite/">
<span class="md-ellipsis">
    Quick Read &amp; Write
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Academic Notes
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Academic Notes
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
<span class="md-ellipsis">
    Calculus
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_1">
<span class="md-nav__icon md-icon"></span>
            Calculus
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../academic-notes/calculus/limit/">
<span class="md-ellipsis">
    Limit
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../academic-notes/calculus/differentiation/">
<span class="md-ellipsis">
    Differentiation
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../academic-notes/calculus/fundamental-calculus/">
<span class="md-ellipsis">
    Fundamental Calculus
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
<span class="md-ellipsis">
    Chinese
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
            Chinese
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_2_1" id="__nav_5_2_1_label" tabindex="0">
<span class="md-ellipsis">
    初中
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_1_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_2_1">
<span class="md-nav__icon md-icon"></span>
            初中
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../academic-notes/chinese/junior-notes/geography/">
<span class="md-ellipsis">
    初中地理总结
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_2_2" id="__nav_5_2_2_label" tabindex="0">
<span class="md-ellipsis">
    高中
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_2_2">
<span class="md-nav__icon md-icon"></span>
            高中
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../academic-notes/chinese/senior-high-school/sets/">
<span class="md-ellipsis">
    集合
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
<span class="md-ellipsis">
    Curricula
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Curricula
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
<span class="md-ellipsis">
    AI For Beginners
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_1">
<span class="md-nav__icon md-icon"></span>
            AI For Beginners
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ai-for-beginners/">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ai-for-beginners/1-Intro/">
<span class="md-ellipsis">
    Lesson 1
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ai-for-beginners/2-Symbolic/">
<span class="md-ellipsis">
    Lesson 2
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_1_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_1_4" id="__nav_6_1_4_label" tabindex="0">
<span class="md-ellipsis">
    Lesson 3
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_1_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_1_4">
<span class="md-nav__icon md-icon"></span>
            Lesson 3
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ai-for-beginners/3-NeuralNetworks/">
<span class="md-ellipsis">
    Intro
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ai-for-beginners/3-NeuralNetworks/03-Perceptron/">
<span class="md-ellipsis">
    Perceptron
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ai-for-beginners/3-NeuralNetworks/04-OwnFramework/">
<span class="md-ellipsis">
    Own Framework
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ai-for-beginners/3-NeuralNetworks/05-Frameworks/">
<span class="md-ellipsis">
    Frameworks
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ai-for-beginners/4-ComputerVision/">
<span class="md-ellipsis">
    Lesson 4
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ai-for-beginners/5-NLP/">
<span class="md-ellipsis">
    Lesson 5
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_1_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_1_7" id="__nav_6_1_7_label" tabindex="0">
<span class="md-ellipsis">
    Lesson 6
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_1_7_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_1_7">
<span class="md-nav__icon md-icon"></span>
            Lesson 6
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ai-for-beginners/6-Other/21-GeneticAlgorithms/">
<span class="md-ellipsis">
    Genetic Algorithms
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ai-for-beginners/6-Other/22-DeepRL/">
<span class="md-ellipsis">
    Deep RL
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ai-for-beginners/6-Other/23-MultiagentSystems/">
<span class="md-ellipsis">
    Multi-Agent Systems
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ai-for-beginners/7-Ethics/">
<span class="md-ellipsis">
    Lesson 7
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ai-for-beginners/X-Extras/X1-MultiModal/">
<span class="md-ellipsis">
    Lesson X
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_6_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
<span class="md-ellipsis">
    Generative AI for Beginners
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_6_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_2">
<span class="md-nav__icon md-icon"></span>
            Generative AI for Beginners
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../01-introduction-to-genai/">
<span class="md-ellipsis">
    Lesson 1
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../02-exploring-and-comparing-different-llms/">
<span class="md-ellipsis">
    Lesson 2
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../03-using-generative-ai-responsibly/">
<span class="md-ellipsis">
    Lesson 3
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../04-prompt-engineering-fundamentals/">
<span class="md-ellipsis">
    Lesson 4
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../05-advanced-prompts/">
<span class="md-ellipsis">
    Lesson 5
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../06-text-generation-apps/">
<span class="md-ellipsis">
    Lesson 6
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../07-building-chat-applications/">
<span class="md-ellipsis">
    Lesson 7
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../08-building-search-applications/">
<span class="md-ellipsis">
    Lesson 8
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../09-building-image-applications/">
<span class="md-ellipsis">
    Lesson 9
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../10-building-low-code-ai-applications/">
<span class="md-ellipsis">
    Lesson 10
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../11-integrating-with-function-calling/">
<span class="md-ellipsis">
    Lesson 11
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../12-designing-ux-for-ai-applications/">
<span class="md-ellipsis">
    Lesson 12
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../13-securing-ai-applications/">
<span class="md-ellipsis">
    Lesson 13
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../14-the-generative-ai-application-lifecycle/">
<span class="md-ellipsis">
    Lesson 14
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Lesson 15
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Lesson 15
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#retrieval-augmented-generation-rag-and-vector-databases">
<span class="md-ellipsis">
      Retrieval Augmented Generation (RAG) and Vector Databases
    </span>
</a>
<nav aria-label="Retrieval Augmented Generation (RAG) and Vector Databases" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#introduction">
<span class="md-ellipsis">
      Introduction
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#learning-goals">
<span class="md-ellipsis">
      Learning Goals
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#our-scenario-enhancing-our-llms-with-our-own-data">
<span class="md-ellipsis">
      Our Scenario: enhancing our LLMs with our own data
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#retrieval-augmented-generation-rag">
<span class="md-ellipsis">
      Retrieval Augmented Generation (RAG)
    </span>
</a>
<nav aria-label="Retrieval Augmented Generation (RAG)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#how-rags-retrieval-augmented-generation-work">
<span class="md-ellipsis">
      How RAGs (Retrieval Augmented Generation) work
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#why-would-you-use-rags">
<span class="md-ellipsis">
      Why would you use RAGs?
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#creating-a-knowledge-base">
<span class="md-ellipsis">
      Creating a knowledge base
    </span>
</a>
<nav aria-label="Creating a knowledge base" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#vector-databases">
<span class="md-ellipsis">
      Vector Databases
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#from-text-to-embeddings">
<span class="md-ellipsis">
      From text to embeddings
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#retrieval-and-vector-search">
<span class="md-ellipsis">
      Retrieval and Vector Search
    </span>
</a>
<nav aria-label="Retrieval and Vector Search" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#retrieval">
<span class="md-ellipsis">
      Retrieval
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#vector-similarity">
<span class="md-ellipsis">
      Vector Similarity
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#search-index">
<span class="md-ellipsis">
      Search index
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#re-ranking">
<span class="md-ellipsis">
      Re-ranking
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bringing-it-all-together">
<span class="md-ellipsis">
      Bringing it all together
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#evaluating-our-application">
<span class="md-ellipsis">
      Evaluating our application
    </span>
</a>
<nav aria-label="Evaluating our application" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#evaluation-metrics">
<span class="md-ellipsis">
      Evaluation Metrics
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#use-cases-for-using-rag-retervival-augmented-generation-and-vector-databases">
<span class="md-ellipsis">
      Use Cases for using RAG (Retervival Augmented Generation) and vector databases
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#summary">
<span class="md-ellipsis">
      Summary
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#assignment">
<span class="md-ellipsis">
      Assignment
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#learning-does-not-stop-here-continue-the-journey">
<span class="md-ellipsis">
      Learning does not stop here, continue the Journey
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../16-open-source-models/">
<span class="md-ellipsis">
    Lesson 16
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../17-ai-agents/">
<span class="md-ellipsis">
    Lesson 17
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../18-fine-tuning/">
<span class="md-ellipsis">
    Lesson 18
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../19-slm/">
<span class="md-ellipsis">
    Lesson 19
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../20-mistral/">
<span class="md-ellipsis">
    Lesson 20
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../21-meta/">
<span class="md-ellipsis">
    Lesson 21
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
<span class="md-ellipsis">
    ML for Beginners
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_3">
<span class="md-nav__icon md-icon"></span>
            ML for Beginners
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_3_2" id="__nav_6_3_2_label" tabindex="0">
<span class="md-ellipsis">
    Lesson 1
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_3_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_3_2">
<span class="md-nav__icon md-icon"></span>
            Lesson 1
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/1-Introduction/">
<span class="md-ellipsis">
    Introduction
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/1-Introduction/1-intro-to-ML/">
<span class="md-ellipsis">
    Intro to ML
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/1-Introduction/2-history-of-ML/">
<span class="md-ellipsis">
    History of ML
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/1-Introduction/3-fairness/">
<span class="md-ellipsis">
    Fairness
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/1-Introduction/4-techniques-of-ML/">
<span class="md-ellipsis">
    Techniques of ML
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_3_3" id="__nav_6_3_3_label" tabindex="0">
<span class="md-ellipsis">
    Lesson 2
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_3_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_3_3">
<span class="md-nav__icon md-icon"></span>
            Lesson 2
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/2-Regression/">
<span class="md-ellipsis">
    Regression
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/2-Regression/1-Tools/">
<span class="md-ellipsis">
    Tools
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/2-Regression/2-Data/">
<span class="md-ellipsis">
    Data
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/2-Regression/3-Linear/">
<span class="md-ellipsis">
    Linear
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/2-Regression/4-Logistic/">
<span class="md-ellipsis">
    Logistic
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/3-Web-App/">
<span class="md-ellipsis">
    Lesson 3
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_3_5" id="__nav_6_3_5_label" tabindex="0">
<span class="md-ellipsis">
    Lesson 4
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_3_5_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_3_5">
<span class="md-nav__icon md-icon"></span>
            Lesson 4
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/4-Classification/">
<span class="md-ellipsis">
    Classification
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/4-Classification/1-Introduction/">
<span class="md-ellipsis">
    Introduction
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/4-Classification/2-Classifiers-1/">
<span class="md-ellipsis">
    Classifiers 1
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/4-Classification/3-Classifiers-2/">
<span class="md-ellipsis">
    Classifiers 2
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/4-Classification/4-Applied/">
<span class="md-ellipsis">
    Applied
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_3_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_3_6" id="__nav_6_3_6_label" tabindex="0">
<span class="md-ellipsis">
    Lesson 5
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_3_6_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_3_6">
<span class="md-nav__icon md-icon"></span>
            Lesson 5
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/5-Clustering/">
<span class="md-ellipsis">
    Clustering
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/5-Clustering/1-Visualize/">
<span class="md-ellipsis">
    Visualize
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/5-Clustering/2-K-Means/">
<span class="md-ellipsis">
    K Means
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_3_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_3_7" id="__nav_6_3_7_label" tabindex="0">
<span class="md-ellipsis">
    Lesson 6
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_3_7_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_3_7">
<span class="md-nav__icon md-icon"></span>
            Lesson 6
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/6-NLP/">
<span class="md-ellipsis">
    NLP
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/6-NLP/1-Introduction-to-NLP/">
<span class="md-ellipsis">
    Introduction to NLP
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/6-NLP/2-Tasks/">
<span class="md-ellipsis">
    Tasks
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/6-NLP/3-Translation-Sentiment/">
<span class="md-ellipsis">
    Translation Sentiment
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/6-NLP/4-Hotel-Reviews-1/">
<span class="md-ellipsis">
    Hotel Reviews 1
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/6-NLP/5-Hotel-Reviews-2/">
<span class="md-ellipsis">
    Hotel Reviews 2
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_3_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_3_8" id="__nav_6_3_8_label" tabindex="0">
<span class="md-ellipsis">
    Lesson 7
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_3_8_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_3_8">
<span class="md-nav__icon md-icon"></span>
            Lesson 7
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/7-TimeSeries/">
<span class="md-ellipsis">
    Time Series
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/7-TimeSeries/1-Introduction/">
<span class="md-ellipsis">
    Introduction
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/7-TimeSeries/2-ARIMA/">
<span class="md-ellipsis">
    ARIMA
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/7-TimeSeries/3-SVR/">
<span class="md-ellipsis">
    SVR
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_3_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_3_9" id="__nav_6_3_9_label" tabindex="0">
<span class="md-ellipsis">
    Lesson 8
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_3_9_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_3_9">
<span class="md-nav__icon md-icon"></span>
            Lesson 8
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/8-Reinforcement/">
<span class="md-ellipsis">
    Reinforcement
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/8-Reinforcement/1-QLearning/">
<span class="md-ellipsis">
    Q-Learning
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/8-Reinforcement/2-Gym/">
<span class="md-ellipsis">
    Gym
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_3_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_3_10" id="__nav_6_3_10_label" tabindex="0">
<span class="md-ellipsis">
    Lesson 9
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_3_10_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_3_10">
<span class="md-nav__icon md-icon"></span>
            Lesson 9
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/9-Real-World/">
<span class="md-ellipsis">
    Real World
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/9-Real-World/1-Applications/">
<span class="md-ellipsis">
    Applications
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ml-for-beginners/9-Real-World/2-Debugging-ML-Models/">
<span class="md-ellipsis">
    Debugging ML Models
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    Blog
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            Blog
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../blog/">
<span class="md-ellipsis">
    Index
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
<span class="md-ellipsis">
    Archive
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_2">
<span class="md-nav__icon md-icon"></span>
            Archive
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../blog/archive/2024/">
<span class="md-ellipsis">
    2024
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
<span class="md-ellipsis">
    Categories
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_3">
<span class="md-nav__icon md-icon"></span>
            Categories
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../blog/category/ai/">
<span class="md-ellipsis">
    Ai
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#retrieval-augmented-generation-rag-and-vector-databases">
<span class="md-ellipsis">
      Retrieval Augmented Generation (RAG) and Vector Databases
    </span>
</a>
<nav aria-label="Retrieval Augmented Generation (RAG) and Vector Databases" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#introduction">
<span class="md-ellipsis">
      Introduction
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#learning-goals">
<span class="md-ellipsis">
      Learning Goals
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#our-scenario-enhancing-our-llms-with-our-own-data">
<span class="md-ellipsis">
      Our Scenario: enhancing our LLMs with our own data
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#retrieval-augmented-generation-rag">
<span class="md-ellipsis">
      Retrieval Augmented Generation (RAG)
    </span>
</a>
<nav aria-label="Retrieval Augmented Generation (RAG)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#how-rags-retrieval-augmented-generation-work">
<span class="md-ellipsis">
      How RAGs (Retrieval Augmented Generation) work
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#why-would-you-use-rags">
<span class="md-ellipsis">
      Why would you use RAGs?
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#creating-a-knowledge-base">
<span class="md-ellipsis">
      Creating a knowledge base
    </span>
</a>
<nav aria-label="Creating a knowledge base" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#vector-databases">
<span class="md-ellipsis">
      Vector Databases
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#from-text-to-embeddings">
<span class="md-ellipsis">
      From text to embeddings
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#retrieval-and-vector-search">
<span class="md-ellipsis">
      Retrieval and Vector Search
    </span>
</a>
<nav aria-label="Retrieval and Vector Search" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#retrieval">
<span class="md-ellipsis">
      Retrieval
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#vector-similarity">
<span class="md-ellipsis">
      Vector Similarity
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#search-index">
<span class="md-ellipsis">
      Search index
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#re-ranking">
<span class="md-ellipsis">
      Re-ranking
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bringing-it-all-together">
<span class="md-ellipsis">
      Bringing it all together
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#evaluating-our-application">
<span class="md-ellipsis">
      Evaluating our application
    </span>
</a>
<nav aria-label="Evaluating our application" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#evaluation-metrics">
<span class="md-ellipsis">
      Evaluation Metrics
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#use-cases-for-using-rag-retervival-augmented-generation-and-vector-databases">
<span class="md-ellipsis">
      Use Cases for using RAG (Retervival Augmented Generation) and vector databases
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#summary">
<span class="md-ellipsis">
      Summary
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#assignment">
<span class="md-ellipsis">
      Assignment
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#learning-does-not-stop-here-continue-the-journey">
<span class="md-ellipsis">
      Learning does not stop here, continue the Journey
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>Lesson 15</h1>
<div><h2 id="retrieval-augmented-generation-rag-and-vector-databases">Retrieval Augmented Generation (RAG) and Vector Databases<a class="headerlink" href="#retrieval-augmented-generation-rag-and-vector-databases" title="Permanent link">¶</a></h2>
<p><a href="https://aka.ms/gen-ai-lesson15-gh?WT.mc_id=academic-105485-koreyst"><img alt="Retrieval Augmented Generation (RAG) and Vector Databases" src="images/15-lesson-banner.png?WT.mc_id=academic-105485-koreyst"/></a></p>
<p>In the search applications lesson, we briefly learned how to integrate your own data into Large Language Models (LLMs). In this lesson, we will delve further into the concepts of grounding your data in your LLM application, the mechanics of the process and the methods for storing data, including both embeddings and text.</p>
<blockquote>
<p><strong>Video Coming Soon</strong></p>
</blockquote>
<h3 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">¶</a></h3>
<p>In this lesson we will cover the following:</p>
<ul>
<li>
<p>An introduction to RAG, what it is and why it is used in AI (artificial intelligence).</p>
</li>
<li>
<p>Understanding what vector databases are and creating one for our application.</p>
</li>
<li>
<p>A practical example on how to integrate RAG into an application.</p>
</li>
</ul>
<h3 id="learning-goals">Learning Goals<a class="headerlink" href="#learning-goals" title="Permanent link">¶</a></h3>
<p>After completing this lesson, you will be able to:</p>
<ul>
<li>
<p>Explain the significance of RAG in data retrieval and processing.</p>
</li>
<li>
<p>Setup RAG application and ground your data to an LLM</p>
</li>
<li>
<p>Effective integration of RAG and Vector Databases in LLM Applications.</p>
</li>
</ul>
<h3 id="our-scenario-enhancing-our-llms-with-our-own-data">Our Scenario: enhancing our LLMs with our own data<a class="headerlink" href="#our-scenario-enhancing-our-llms-with-our-own-data" title="Permanent link">¶</a></h3>
<p>For this lesson, we want to add our own notes into the education startup, which allows the chatbot to get more information on the different subjects. Using the notes that we have, learners will be able to study better and understand the different topics, making it easier to revise for their examinations. To create our scenario, we will use:</p>
<ul>
<li>
<p><code>Azure OpenAI:</code> the LLM we will use to create our chatbot</p>
</li>
<li>
<p><code>AI for beginners' lesson on Neural Networks</code>: this will be the data we ground our LLM on</p>
</li>
<li>
<p><code>Azure AI Search</code> and <code>Azure Cosmos DB:</code> vector database to store our data and create a search index</p>
</li>
</ul>
<p>Users will be able to create practice quizzes from their notes, revision flash cards and summarize it to concise overviews. To get started, let us look at what is RAG and how works:</p>
<h3 id="retrieval-augmented-generation-rag">Retrieval Augmented Generation (RAG)<a class="headerlink" href="#retrieval-augmented-generation-rag" title="Permanent link">¶</a></h3>
<p>An LLM powered chatbot processes user prompts to generate responses. It is designed to be interactive and engages with users on a wide array of topics. However, its responses are limited to the context provided and its foundational training data. For instance, GPT-4 knowledge cutoff is September 2021, meaning, it lacks knowledge of events that have occurred after this period. In addition, the data used to train LLMs excludes confidential information such as personal notes or a company's product manual.</p>
<h4 id="how-rags-retrieval-augmented-generation-work">How RAGs (Retrieval Augmented Generation) work<a class="headerlink" href="#how-rags-retrieval-augmented-generation-work" title="Permanent link">¶</a></h4>
<p><img alt="drawing showing how RAGs work" src="images/how-rag-works.png?WT.mc_id=academic-105485-koreyst"/></p>
<p>Suppose you want to deploy a chatbot that creates quizzes from your notes, you will require a connection to the knowledge base. This is where RAG comes to the rescue. RAGs operate as follows:</p>
<ul>
<li>
<p><strong>Knowledge base:</strong> Before retrieval, these documents need to be ingested and preprocessed, typically breaking down large documents into smaller chunks, transforming them to text embedding and storing them in a database.</p>
</li>
<li>
<p><strong>User Query:</strong> the user asks a question</p>
</li>
<li>
<p><strong>Retrieval:</strong> When a user asks a question, the embedding model retrieves relevant information from our knowledge base to provide more context that will be incorporated into the prompt.</p>
</li>
<li>
<p><strong>Augmented Generation:</strong> the LLM enhances its response based on the data retrieved. It allows the response generated to be not only based on pre-trained data but also relevant information from the added context. The retrieved data is used to augment the LLM's responses. The LLM then returns an answer to the user's question.</p>
</li>
</ul>
<p><img alt="drawing showing how RAGs architecture" src="images/encoder-decode.png?WT.mc_id=academic-105485-koreyst"/></p>
<p>The architecture for RAGs is implemented using transformers consisting of two parts: an encoder and a decoder. For example, when a user asks a question, the input text 'encoded' into vectors capturing the meaning of words and the vectors are 'decoded' into our document index and generates new text based on the user query. The LLM uses both an encoder-decoder model to generate the output.</p>
<p>Two approaches when implementing RAG according to the proposed paper: <a href="https://arxiv.org/pdf/2005.11401.pdf?WT.mc_id=academic-105485-koreyst">Retrieval-Augmented Generation for Knowledge intensive NLP (natural language processing software) Tasks</a> are:</p>
<ul>
<li>
<p><strong><em>RAG-Sequence</em></strong> using retrieved documents to predict the best possible answer to a user query</p>
</li>
<li>
<p><strong>RAG-Token</strong> using documents to generate the next token, then retrieve them to answer the user's query</p>
</li>
</ul>
<h4 id="why-would-you-use-rags">Why would you use RAGs?<a class="headerlink" href="#why-would-you-use-rags" title="Permanent link">¶</a></h4>
<ul>
<li>
<p><strong>Information richness:</strong> ensures text responses are up to date and current. It, therefore, enhances performance on domain specific tasks by accessing the internal knowledge base.</p>
</li>
<li>
<p>Reduces fabrication by utilizing <strong>verifiable data</strong> in the knowledge base to provide context to the user queries.</p>
</li>
<li>
<p>It is <strong>cost effective</strong> as they are more economical compared to fine-tuning an LLM</p>
</li>
</ul>
<h3 id="creating-a-knowledge-base">Creating a knowledge base<a class="headerlink" href="#creating-a-knowledge-base" title="Permanent link">¶</a></h3>
<p>Our application is based on our personal data i.e., the Neural Network lesson on AI For Beginners curriculum.</p>
<h4 id="vector-databases">Vector Databases<a class="headerlink" href="#vector-databases" title="Permanent link">¶</a></h4>
<p>A vector database, unlike traditional databases, is a specialized database designed to store, manage and search embedded vectors. It stores numerical representations of documents. Breaking down data to numerical embeddings makes it easier for our AI system to understand and process the data.</p>
<p>We store our embeddings in vector databases as LLMs have a limit of the number of tokens they accept as input. As you cannot pass the entire embeddings to an LLM, we will need to break them down into chunks and when a user asks a question, the embeddings most like the question will be returned together with the prompt. Chunking also reduces costs on the number of tokens passed through an LLM.</p>
<p>Some popular vector databases include Azure Cosmos DB, Clarifyai, Pinecone, Chromadb, ScaNN, Qdrant and DeepLake. You can create an Azure Cosmos DB model using Azure CLI with the following command:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a>az<span class="w"> </span>login
</span><span id="__span-0-2"><a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a>az<span class="w"> </span>group<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>&lt;resource-group-name&gt;<span class="w"> </span>-l<span class="w"> </span>&lt;location&gt;
</span><span id="__span-0-3"><a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a>az<span class="w"> </span>cosmosdb<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>&lt;cosmos-db-name&gt;<span class="w"> </span>-r<span class="w"> </span>&lt;resource-group-name&gt;
</span><span id="__span-0-4"><a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a>az<span class="w"> </span>cosmosdb<span class="w"> </span>list-keys<span class="w"> </span>-n<span class="w"> </span>&lt;cosmos-db-name&gt;<span class="w"> </span>-g<span class="w"> </span>&lt;resource-group-name&gt;
</span></code></pre></div>
<h4 id="from-text-to-embeddings">From text to embeddings<a class="headerlink" href="#from-text-to-embeddings" title="Permanent link">¶</a></h4>
<p>Before we store our data, we will need to convert it to vector embeddings before it is stored in the database. If you are working with large documents or long texts, you can chunk them based on queries you expect. Chunking can be done at sentence level, or at a paragraph level. As chunking derives meanings from the words around them, you can add some other context to a chunk, for example, by adding the document title or including some text before or after the chunk. You can chunk the data as follows:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="k">def</span> <span class="nf">split_text</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">max_length</span><span class="p">,</span> <span class="n">min_length</span><span class="p">):</span>
</span><span id="__span-1-2"><a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a>    <span class="n">words</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</span><span id="__span-1-3"><a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a>    <span class="n">chunks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-1-4"><a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a>    <span class="n">current_chunk</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-1-5"><a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a>
</span><span id="__span-1-6"><a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a>    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
</span><span id="__span-1-7"><a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a>        <span class="n">current_chunk</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span id="__span-1-8"><a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_chunk</span><span class="p">))</span> <span class="o">&lt;</span> <span class="n">max_length</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_chunk</span><span class="p">))</span> <span class="o">&gt;</span> <span class="n">min_length</span><span class="p">:</span>
</span><span id="__span-1-9"><a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a>            <span class="n">chunks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_chunk</span><span class="p">))</span>
</span><span id="__span-1-10"><a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a>            <span class="n">current_chunk</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-1-11"><a href="#__codelineno-1-11" id="__codelineno-1-11" name="__codelineno-1-11"></a>
</span><span id="__span-1-12"><a href="#__codelineno-1-12" id="__codelineno-1-12" name="__codelineno-1-12"></a>    <span class="c1"># If the last chunk didn't reach the minimum length, add it anyway</span>
</span><span id="__span-1-13"><a href="#__codelineno-1-13" id="__codelineno-1-13" name="__codelineno-1-13"></a>    <span class="k">if</span> <span class="n">current_chunk</span><span class="p">:</span>
</span><span id="__span-1-14"><a href="#__codelineno-1-14" id="__codelineno-1-14" name="__codelineno-1-14"></a>        <span class="n">chunks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_chunk</span><span class="p">))</span>
</span><span id="__span-1-15"><a href="#__codelineno-1-15" id="__codelineno-1-15" name="__codelineno-1-15"></a>
</span><span id="__span-1-16"><a href="#__codelineno-1-16" id="__codelineno-1-16" name="__codelineno-1-16"></a>    <span class="k">return</span> <span class="n">chunks</span>
</span></code></pre></div>
<p>Once chunked, we can then embed our text using different embedding models. Some models you can use include: word2vec, ada-002 by OpenAI, Azure Computer Vision and many more. Selecting a model to use will depend on the languages you're using, the type of content encoded (text/images/audio), the size of input it can encode and length of the embedding output.</p>
<p>An example of embedded text using OpenAI's <code>text-embedding-ada-002</code> model is:
<img alt="an embedding of the word cat" src="images/cat.png?WT.mc_id=academic-105485-koreyst"/></p>
<h3 id="retrieval-and-vector-search">Retrieval and Vector Search<a class="headerlink" href="#retrieval-and-vector-search" title="Permanent link">¶</a></h3>
<p>When a user asks a question, the retriever transforms it into a vector using the query encoder, it then searches through our document search index for relevant vectors in the document that are related to the input. Once done, it converts both the input vector and document vectors into text and passes it through the LLM.</p>
<h4 id="retrieval">Retrieval<a class="headerlink" href="#retrieval" title="Permanent link">¶</a></h4>
<p>Retrieval happens when the system tries to quickly find the documents from the index that satisfy the search criteria. The goal of the retriever is to get documents that will be used to provide context and ground the LLM on your data.</p>
<p>There are several ways to perform search within our database such as:</p>
<ul>
<li>
<p><strong>Keyword search</strong> - used for text searches</p>
</li>
<li>
<p><strong>Semantic search</strong> - uses the semantic meaning of words</p>
</li>
<li>
<p><strong>Vector search</strong> - converts documents from text to vector representations using embedding models. Retrieval will be done by querying the documents whose vector representations are closest to the user question.</p>
</li>
<li>
<p><strong>Hybrid</strong> - a combination of both keyword and vector search.</p>
</li>
</ul>
<p>A challenge with retrieval comes in when there is no similar response to the query in the database, the system will then return the best information they can get, however, you can use tactics like set up the maximum distance for relevance or use hybrid search that combines both keywords and vector search. In this lesson we will use hybrid search, a combination of both vector and keyword search. We will store our data into a dataframe with columns containing the chunks as well as embeddings.</p>
<h4 id="vector-similarity">Vector Similarity<a class="headerlink" href="#vector-similarity" title="Permanent link">¶</a></h4>
<p>The retriever will search through the knowledge database for embeddings that are close together, the closest neighbour, as they are texts that are similar. In the scenario a user asks a query, it is first embedded then matched with similar embeddings. The common measurement that is used to find how similar different vectors are is cosine similarity which is based on the angle between two vectors.</p>
<p>We can measure similarity using other alternatives we can use are Euclidean distance which is the straight line between vector endpoints and dot product which measures the sum of the products of corresponding elements of two vectors.</p>
<h4 id="search-index">Search index<a class="headerlink" href="#search-index" title="Permanent link">¶</a></h4>
<p>When doing retrieval, we will need to build a search index for our knowledge base before we perform search. An index will store our embeddings and can quickly retrieve the most similar chunks even in a large database. We can create our index locally using:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">NearestNeighbors</span>
</span><span id="__span-2-2"><a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a>
</span><span id="__span-2-3"><a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="n">embeddings</span> <span class="o">=</span> <span class="n">flattened_df</span><span class="p">[</span><span class="s1">'embeddings'</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
</span><span id="__span-2-4"><a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a>
</span><span id="__span-2-5"><a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="c1"># Create the search index</span>
</span><span id="__span-2-6"><a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="n">nbrs</span> <span class="o">=</span> <span class="n">NearestNeighbors</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">'ball_tree'</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">embeddings</span><span class="p">)</span>
</span><span id="__span-2-7"><a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a>
</span><span id="__span-2-8"><a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="c1"># To query the index, you can use the kneighbors method</span>
</span><span id="__span-2-9"><a href="#__codelineno-2-9" id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="n">distances</span><span class="p">,</span> <span class="n">indices</span> <span class="o">=</span> <span class="n">nbrs</span><span class="o">.</span><span class="n">kneighbors</span><span class="p">(</span><span class="n">embeddings</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="re-ranking">Re-ranking<a class="headerlink" href="#re-ranking" title="Permanent link">¶</a></h4>
<p>Once you have queried the database, you might need to sort the results from the most relevant. A reranking LLM utilizes Machine Learning to improve the relevance of search results by ordering them from the most relevant. Using Azure AI Search, reranking is done automatically for you using a semantic reranker. An example of how reranking works using nearest neighbours:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="c1"># Find the most similar documents</span>
</span><span id="__span-3-2"><a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="n">distances</span><span class="p">,</span> <span class="n">indices</span> <span class="o">=</span> <span class="n">nbrs</span><span class="o">.</span><span class="n">kneighbors</span><span class="p">([</span><span class="n">query_vector</span><span class="p">])</span>
</span><span id="__span-3-3"><a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a>
</span><span id="__span-3-4"><a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="n">index</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-3-5"><a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="c1"># Print the most similar documents</span>
</span><span id="__span-3-6"><a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
</span><span id="__span-3-7"><a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a>    <span class="n">index</span> <span class="o">=</span> <span class="n">indices</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
</span><span id="__span-3-8"><a href="#__codelineno-3-8" id="__codelineno-3-8" name="__codelineno-3-8"></a>    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
</span><span id="__span-3-9"><a href="#__codelineno-3-9" id="__codelineno-3-9" name="__codelineno-3-9"></a>        <span class="nb">print</span><span class="p">(</span><span class="n">flattened_df</span><span class="p">[</span><span class="s1">'chunks'</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
</span><span id="__span-3-10"><a href="#__codelineno-3-10" id="__codelineno-3-10" name="__codelineno-3-10"></a>        <span class="nb">print</span><span class="p">(</span><span class="n">flattened_df</span><span class="p">[</span><span class="s1">'path'</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
</span><span id="__span-3-11"><a href="#__codelineno-3-11" id="__codelineno-3-11" name="__codelineno-3-11"></a>        <span class="nb">print</span><span class="p">(</span><span class="n">flattened_df</span><span class="p">[</span><span class="s1">'distances'</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
</span><span id="__span-3-12"><a href="#__codelineno-3-12" id="__codelineno-3-12" name="__codelineno-3-12"></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-3-13"><a href="#__codelineno-3-13" id="__codelineno-3-13" name="__codelineno-3-13"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Index </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2"> not found in DataFrame"</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="bringing-it-all-together">Bringing it all together<a class="headerlink" href="#bringing-it-all-together" title="Permanent link">¶</a></h3>
<p>The last step is adding our LLM into the mix to be able to get responses that are grounded on our data. We can implement it as follows:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="n">user_input</span> <span class="o">=</span> <span class="s2">"what is a perceptron?"</span>
</span><span id="__span-4-2"><a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a>
</span><span id="__span-4-3"><a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="k">def</span> <span class="nf">chatbot</span><span class="p">(</span><span class="n">user_input</span><span class="p">):</span>
</span><span id="__span-4-4"><a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a>    <span class="c1"># Convert the question to a query vector</span>
</span><span id="__span-4-5"><a href="#__codelineno-4-5" id="__codelineno-4-5" name="__codelineno-4-5"></a>    <span class="n">query_vector</span> <span class="o">=</span> <span class="n">create_embeddings</span><span class="p">(</span><span class="n">user_input</span><span class="p">)</span>
</span><span id="__span-4-6"><a href="#__codelineno-4-6" id="__codelineno-4-6" name="__codelineno-4-6"></a>
</span><span id="__span-4-7"><a href="#__codelineno-4-7" id="__codelineno-4-7" name="__codelineno-4-7"></a>    <span class="c1"># Find the most similar documents</span>
</span><span id="__span-4-8"><a href="#__codelineno-4-8" id="__codelineno-4-8" name="__codelineno-4-8"></a>    <span class="n">distances</span><span class="p">,</span> <span class="n">indices</span> <span class="o">=</span> <span class="n">nbrs</span><span class="o">.</span><span class="n">kneighbors</span><span class="p">([</span><span class="n">query_vector</span><span class="p">])</span>
</span><span id="__span-4-9"><a href="#__codelineno-4-9" id="__codelineno-4-9" name="__codelineno-4-9"></a>
</span><span id="__span-4-10"><a href="#__codelineno-4-10" id="__codelineno-4-10" name="__codelineno-4-10"></a>    <span class="c1"># add documents to query  to provide context</span>
</span><span id="__span-4-11"><a href="#__codelineno-4-11" id="__codelineno-4-11" name="__codelineno-4-11"></a>    <span class="n">history</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-4-12"><a href="#__codelineno-4-12" id="__codelineno-4-12" name="__codelineno-4-12"></a>    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
</span><span id="__span-4-13"><a href="#__codelineno-4-13" id="__codelineno-4-13" name="__codelineno-4-13"></a>        <span class="n">history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">flattened_df</span><span class="p">[</span><span class="s1">'chunks'</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
</span><span id="__span-4-14"><a href="#__codelineno-4-14" id="__codelineno-4-14" name="__codelineno-4-14"></a>
</span><span id="__span-4-15"><a href="#__codelineno-4-15" id="__codelineno-4-15" name="__codelineno-4-15"></a>    <span class="c1"># combine the history and the user input</span>
</span><span id="__span-4-16"><a href="#__codelineno-4-16" id="__codelineno-4-16" name="__codelineno-4-16"></a>    <span class="n">history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">user_input</span><span class="p">)</span>
</span><span id="__span-4-17"><a href="#__codelineno-4-17" id="__codelineno-4-17" name="__codelineno-4-17"></a>
</span><span id="__span-4-18"><a href="#__codelineno-4-18" id="__codelineno-4-18" name="__codelineno-4-18"></a>    <span class="c1"># create a message object</span>
</span><span id="__span-4-19"><a href="#__codelineno-4-19" id="__codelineno-4-19" name="__codelineno-4-19"></a>    <span class="n">messages</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-4-20"><a href="#__codelineno-4-20" id="__codelineno-4-20" name="__codelineno-4-20"></a>        <span class="p">{</span><span class="s2">"role"</span><span class="p">:</span> <span class="s2">"system"</span><span class="p">,</span> <span class="s2">"content"</span><span class="p">:</span> <span class="s2">"You are an AI assistant that helps with AI questions."</span><span class="p">},</span>
</span><span id="__span-4-21"><a href="#__codelineno-4-21" id="__codelineno-4-21" name="__codelineno-4-21"></a>        <span class="p">{</span><span class="s2">"role"</span><span class="p">:</span> <span class="s2">"user"</span><span class="p">,</span> <span class="s2">"content"</span><span class="p">:</span> <span class="n">history</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]}</span>
</span><span id="__span-4-22"><a href="#__codelineno-4-22" id="__codelineno-4-22" name="__codelineno-4-22"></a>    <span class="p">]</span>
</span><span id="__span-4-23"><a href="#__codelineno-4-23" id="__codelineno-4-23" name="__codelineno-4-23"></a>
</span><span id="__span-4-24"><a href="#__codelineno-4-24" id="__codelineno-4-24" name="__codelineno-4-24"></a>    <span class="c1"># use chat completion to generate a response</span>
</span><span id="__span-4-25"><a href="#__codelineno-4-25" id="__codelineno-4-25" name="__codelineno-4-25"></a>    <span class="n">response</span> <span class="o">=</span> <span class="n">openai</span><span class="o">.</span><span class="n">chat</span><span class="o">.</span><span class="n">completions</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
</span><span id="__span-4-26"><a href="#__codelineno-4-26" id="__codelineno-4-26" name="__codelineno-4-26"></a>        <span class="n">model</span><span class="o">=</span><span class="s2">"gpt-4"</span><span class="p">,</span>
</span><span id="__span-4-27"><a href="#__codelineno-4-27" id="__codelineno-4-27" name="__codelineno-4-27"></a>        <span class="n">temperature</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
</span><span id="__span-4-28"><a href="#__codelineno-4-28" id="__codelineno-4-28" name="__codelineno-4-28"></a>        <span class="n">max_tokens</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span>
</span><span id="__span-4-29"><a href="#__codelineno-4-29" id="__codelineno-4-29" name="__codelineno-4-29"></a>        <span class="n">messages</span><span class="o">=</span><span class="n">messages</span>
</span><span id="__span-4-30"><a href="#__codelineno-4-30" id="__codelineno-4-30" name="__codelineno-4-30"></a>    <span class="p">)</span>
</span><span id="__span-4-31"><a href="#__codelineno-4-31" id="__codelineno-4-31" name="__codelineno-4-31"></a>
</span><span id="__span-4-32"><a href="#__codelineno-4-32" id="__codelineno-4-32" name="__codelineno-4-32"></a>    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span>
</span><span id="__span-4-33"><a href="#__codelineno-4-33" id="__codelineno-4-33" name="__codelineno-4-33"></a>
</span><span id="__span-4-34"><a href="#__codelineno-4-34" id="__codelineno-4-34" name="__codelineno-4-34"></a><span class="n">chatbot</span><span class="p">(</span><span class="n">user_input</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="evaluating-our-application">Evaluating our application<a class="headerlink" href="#evaluating-our-application" title="Permanent link">¶</a></h3>
<h4 id="evaluation-metrics">Evaluation Metrics<a class="headerlink" href="#evaluation-metrics" title="Permanent link">¶</a></h4>
<ul>
<li>
<p>Quality of responses supplied ensuring it sounds natural, fluent and human-like</p>
</li>
<li>
<p>Groundedness of the data: evaluating whether the response that came from supplied docs</p>
</li>
<li>
<p>Relevance: evaluating the response matches and is related to the question asked</p>
</li>
<li>
<p>Fluency - whether the response makes sense grammatically</p>
</li>
</ul>
<h3 id="use-cases-for-using-rag-retervival-augmented-generation-and-vector-databases">Use Cases for using RAG (Retervival Augmented Generation) and vector databases<a class="headerlink" href="#use-cases-for-using-rag-retervival-augmented-generation-and-vector-databases" title="Permanent link">¶</a></h3>
<p>There are many different use cases where function calls can improve your app like:</p>
<ul>
<li>
<p>Question and Answering: grounding your company data to a chat that can be used by employees to ask questions.</p>
</li>
<li>
<p>Recommendation Systems: where you can create a system that matches the most similar values e.g. movies, restaurants and many more.</p>
</li>
<li>
<p>Chatbot services: you can store chat history and personalize the conversation based on the user data.</p>
</li>
<li>
<p>Image search based on vector embeddings, useful when doing image recognition and anomaly detection.</p>
</li>
</ul>
<h3 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">¶</a></h3>
<p>We have covered the fundamental areas of RAG from adding our data to the application, the user query and output. To simplify creation of RAG, you can use frameworks such as Semanti Kernel, Langchain or Autogen.</p>
<h3 id="assignment">Assignment<a class="headerlink" href="#assignment" title="Permanent link">¶</a></h3>
<p>To continue your learning of Retrieval Augmented Generation (RAG) you can build:</p>
<ul>
<li>
<p>Build a front-end for the application using the framework of your choice</p>
</li>
<li>
<p>Utilize a framework, either LangChain or Semantic Kernel, and recreate your application.</p>
</li>
</ul>
<p>Congratulations for completing the lesson 👏.</p>
<h3 id="learning-does-not-stop-here-continue-the-journey">Learning does not stop here, continue the Journey<a class="headerlink" href="#learning-does-not-stop-here-continue-the-journey" title="Permanent link">¶</a></h3>
<p>After completing this lesson, check out our <a href="https://aka.ms/genai-collection?WT.mc_id=academic-105485-koreyst">Generative AI Learning collection</a> to continue leveling up your Generative AI knowledge!</p></div>
<aside class="md-source-file">
<span class="md-source-file__fact">
<span class="md-icon" title="Last update">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">February 19, 2025 15:07:13</span>
</span>
</aside>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Lesson 14" class="md-footer__link md-footer__link--prev" href="../14-the-generative-ai-application-lifecycle/">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Previous
              </span>
<div class="md-ellipsis">
                Lesson 14
              </div>
</div>
</a>
<a aria-label="Next: Lesson 16" class="md-footer__link md-footer__link--next" href="../16-open-source-models/">
<div class="md-footer__title">
<span class="md-footer__direction">
                Next
              </span>
<div class="md-ellipsis">
                Lesson 16
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/gitmichaelqiu" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.path", "navigation.top", "navigation.footer", "content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../../assets/javascripts/bundle.56dfad97.min.js"></script>
<script src="../../../javascripts/mathjax.js"></script>
<script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>