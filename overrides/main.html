{% extends "base.html" %}

{% block extrahead %}
  {{ super() }}
  <!-- 1. Typography from your design -->
  <link rel="preconnect" href="https://gs.jurieo.com/gemini/fonts-googleapis">
  <link rel="preconnect" href="https://gs.jurieo.com/gemini/fonts-gstatic" crossorigin>
  <link href="https://gs.jurieo.com/gemini/fonts-googleapis/css2?family=Inter:wght@300;400;600;900&family=JetBrains+Mono:wght@400;700&family=Syncopate:wght@700;800&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

  <style>
    /* --- 2. THEME VARIABLES OVERRIDES --- */
    :root {
      /* Your Brand Color */
      --klein-blue: #002FA7;
      --klein-light: #3B6DFF;
      
      /* Overriding MkDocs Material Fonts */
      --md-text-font: "Inter", sans-serif;
      --md-code-font: "JetBrains Mono", monospace;
      
      /* Default (Light Mode) Overrides */
      --md-default-bg-color: #F2F2F7; /* Your light gray bg */
      --md-primary-fg-color: #000000; /* Primary elements black */
      --md-accent-fg-color: var(--klein-blue);
      
      /* Glass variables */
      --glass-bg: rgba(255, 255, 255, 0.7);
      --glass-border: rgba(0, 0, 0, 0.05);
      --glass-blur: blur(20px);
    }

    /* Dark Mode Overrides (Slate) */
    [data-md-color-scheme="slate"] {
      --md-default-bg-color: #050505; /* Your deep black bg */
      --md-primary-fg-color: #ffffff; /* Primary elements white */
      --md-accent-fg-color: var(--klein-light);
      
      /* Dark Glass variables */
      --glass-bg: rgba(20, 20, 20, 0.7);
      --glass-border: rgba(255, 255, 255, 0.1);
    }

    /* --- 3. GLOBAL UI STYLING --- */
    
    /* Smooth transition for theme switching */
    body {
      transition: background-color 0.5s ease, color 0.5s ease;
      cursor: none; /* Hide default cursor for custom one */
    }
    
    /* Make standard container transparent so Aurora shows through */
    .md-container {
      background: transparent !important;
    }
    
    /* Headers (Syncopate font for distinct look) */
    h1, .md-typeset h1 {
      font-family: 'Syncopate', sans-serif;
      font-weight: 800;
      letter-spacing: -0.02em;
      text-transform: uppercase;
    }

    /* --- 4. GLASSMORPHISM HEADER & NAV --- */
    
    /* Floating Glass Header */
    .md-header {
      background-color: var(--glass-bg) !important;
      backdrop-filter: var(--glass-blur);
      -webkit-backdrop-filter: var(--glass-blur);
      border-bottom: 1px solid var(--glass-border);
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.05);
    }
    
    /* Tabs Navigation Bar (if enabled) */
    .md-tabs {
      background-color: transparent !important; /* Let header glass show */
      border-bottom: 1px solid var(--glass-border);
    }

    /* --- 5. CONTENT CARDS & GLASS --- */
    
    /* Main Content Area styling */
    .md-main__inner {
      margin-top: 1rem;
    }

    /* Articles / Page Content */
    .md-content {
      /* Optional: Encase content in a subtle glass card */
      border-radius: 16px;
      /* padding: 20px; */ /* Uncomment if you want card-like spacing */
    }

    /* Admonitions (Note/Info boxes) - Make them Glassy */
    .md-typeset .admonition, 
    .md-typeset details {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border) !important;
      box-shadow: 0 4px 20px rgba(0,0,0,0.05);
      border-radius: 12px;
    }
    
    /* Code Blocks - Dark/Sleek */
    .md-typeset pre > code {
      background: rgba(0, 0, 0, 0.85);
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.1);
    }
    [data-md-color-scheme="slate"] .md-typeset pre > code {
      background: rgba(255, 255, 255, 0.05);
    }

    /* Links - Klein Blue Hover */
    .md-typeset a {
      color: var(--md-accent-fg-color);
      font-weight: 600;
      transition: all 0.2s;
    }
    .md-typeset a:hover {
      color: var(--md-primary-fg-color);
      text-decoration: none;
      border-bottom: 2px solid var(--klein-blue);
    }

    /* --- 6. AURORA BACKGROUND ANIMATION --- */
    
    .aurora-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: -1; /* Behind everything */
        overflow: hidden;
        pointer-events: none;
    }

    .aurora-blob {
        position: absolute;
        border-radius: 50%;
        filter: blur(80px);
        opacity: 0.4;
        animation: float 20s infinite ease-in-out;
    }

    /* Light Mode Blobs */
    .blob-1 { top: -10%; right: -10%; width: 60vw; height: 60vw; background: radial-gradient(circle, rgba(0, 47, 167, 0.2), transparent 70%); animation-delay: 0s; }
    .blob-2 { bottom: -20%; left: -10%; width: 50vw; height: 50vw; background: radial-gradient(circle, rgba(32, 190, 255, 0.2), transparent 70%); animation-delay: -5s; }
    
    /* Dark Mode Blob Adjustments */
    [data-md-color-scheme="slate"] .aurora-blob {
        opacity: 0.2;
        mix-blend-mode: screen;
    }
    [data-md-color-scheme="slate"] .blob-1 { background: radial-gradient(circle, rgba(0, 47, 167, 0.6), transparent 70%); }
    
    @keyframes float {
        0%, 100% { transform: translate(0, 0); }
        50% { transform: translate(-20px, 20px); }
    }

    /* --- 7. CUSTOM CURSOR --- */
    
    .cursor-dot, .cursor-outline {
        position: fixed;
        top: 0;
        left: 0;
        transform: translate(-50%, -50%);
        border-radius: 50%;
        z-index: 9999;
        pointer-events: none;
        mix-blend-mode: difference;
    }
    .cursor-dot { width: 8px; height: 8px; background-color: white; }
    .cursor-outline { 
        width: 40px; 
        height: 40px; 
        border: 1px solid white; 
        transition: width 0.2s, height 0.2s, background-color 0.2s; 
    }
    
    /* Restore default cursor on touch devices */
    @media (hover: none) and (pointer: coarse) {
        .cursor-dot, .cursor-outline { display: none; }
        body { cursor: auto; }
    }
    
    /* Hover state for links (Interactive) */
    body.is-hovering .cursor-outline {
        width: 20px;
        height: 20px;
        background-color: rgba(255, 255, 255, 0.5);
    }
  </style>
{% endblock %}

{% block announce %}
  {{ super() }}
  <!-- Inject Background & Cursor HTML at top of body -->
  <div class="aurora-container">
    <div class="aurora-blob blob-1"></div>
    <div class="aurora-blob blob-2"></div>
  </div>
  
  <div class="cursor-dot"></div>
  <div class="cursor-outline"></div>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script>
    /** * Custom Cursor Logic 
     * Replicating the feel from DesktopRenamer.html
     */
    document.addEventListener("DOMContentLoaded", function() {
        const dot = document.querySelector('.cursor-dot');
        const outline = document.querySelector('.cursor-outline');
        
        if (!dot || !outline) return;

        // Mouse Movement
        window.addEventListener('mousemove', (e) => {
            const posX = e.clientX;
            const posY = e.clientY;

            // Dot follows instantly
            dot.style.left = `${posX}px`;
            dot.style.top = `${posY}px`;

            // Outline follows with lag (using simple animation for performance)
            outline.animate({
                left: `${posX}px`,
                top: `${posY}px`
            }, { duration: 500, fill: "forwards" });
        });

        // Interactive Elements Hover Effect
        const interactiveElements = document.querySelectorAll('a, button, input, [role="button"], label');
        
        interactiveElements.forEach(el => {
            el.addEventListener('mouseenter', () => document.body.classList.add('is-hovering'));
            el.addEventListener('mouseleave', () => document.body.classList.remove('is-hovering'));
        });
        
        // Handle dynamic content (MkDocs Single Page interaction)
        // Re-attach listeners if content changes (optional optimization)
        const observer = new MutationObserver(() => {
             const newLinks = document.querySelectorAll('a:not([data-hover-attached])');
             newLinks.forEach(el => {
                el.setAttribute('data-hover-attached', 'true');
                el.addEventListener('mouseenter', () => document.body.classList.add('is-hovering'));
                el.addEventListener('mouseleave', () => document.body.classList.remove('is-hovering'));
             });
        });
        observer.observe(document.querySelector('body'), { childList: true, subtree: true });
    });
  </script>
{% endblock %}